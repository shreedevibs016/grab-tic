<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Movie Ticket</title>

<style>
  @page {
    size: A4;
    margin: 20mm;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: "DejaVu Sans", Arial, sans-serif;
    background: #ffffff; /* White background */
    color: #000000; /* Black text */
  }

  .page {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .ticket {
    width: 100%;
    max-width: 720px;
    background: #ffffff; /* White card */
    border-radius: 16px;
    overflow: hidden;
    border: 2px solid #000000; /* Card border style */
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
  }

  /* Header */
  .ticket-header {
    padding: 16px 24px;
    border-bottom: 1px dashed #999;
    font-size: 18px;
    font-weight: bold;
  }

  /* Body Layout */
  .ticket-body {
    display: flex;
  }

  .poster {
    width: 260px;
    flex-shrink: 0;
  }

  .poster img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-right: 1px solid #ccc;
  }

  .details {
    padding: 24px;
    flex: 1;
  }

  h1 {
    margin: 0;
    font-size: 24px;
  }

  .meta {
    color: #555555;
    font-size: 13px;
    margin-top: 6px;
  }

  hr {
    border: none;
    border-top: 1px solid #cccccc;
    margin: 16px 0;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
  }

  td {
    padding: 6px 0;
    vertical-align: top;
  }

  td.label {
    color: #666666;
    width: 40%;
  }

  td.value {
    text-align: right;
    font-weight: 600;
  }

  .total {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 10px;
    font-size: 18px;
  }

  .price {
    font-size: 26px;
    font-weight: bold;
    color: #d35400; /* Highlighted price */
  }

</style>
</head>

<body>

<div class="page">
  <div class="ticket">

    <!-- Header -->
    <div class="ticket-header">
      ðŸŽŸ My Ticket
    </div>

    <!-- Body -->
    <div class="ticket-body">

      <!-- Poster -->
      <div class="poster">
        <img src="file:///{{ transaction.payment.booking.movie.photo.path }}" alt="Movie Poster">
      </div>

      <!-- Details -->
      <div class="details">

        <h1>{{transaction.payment.booking.movie.name}}</h1>

        {% show_runtime transaction.payment.booking.movie.runtime as runtime %}
        <div class="meta">
          {% for language in transaction.payment.booking.movie.languages.all %}
            {{language.name}}
          {% endfor %}
          â€¢ {{runtime}}
          â€¢ {{transaction.payment.booking.movie.certification.name}}
          â€¢ {% for gen in transaction.payment.booking.movie.genre.all %}
              {{gen.name}}
            {% endfor %}
        </div>

        <hr>

        <table>
          <tr>
            <td class="label">Theatre</td>
            <td class="value">
              {{transaction.payment.booking.screen_date_time.theatre.name}},
              {{transaction.payment.booking.screen_date_time.theatre.place.name}}
            </td>
          </tr>

          <tr>
            <td class="label">Screen</td>
            <td class="value">
              {{transaction.payment.booking.screen_date_time.screen.name}}
            </td>
          </tr>

          <tr>
            <td class="label">Date</td>
            <td class="value">
              {{transaction.payment.booking.screen_date_time.date.date | date:'d M Y'}}
            </td>
          </tr>

          <tr>
            <td class="label">Show Time</td>
            <td class="value">
              {{transaction.payment.booking.screen_date_time.time.time|time:'h:i A'}}
            </td>
          </tr>

          <tr>
            <td class="label">Seats</td>
            <td class="value">
              {% for seat in transaction.payment.booking.seats.all %}
                {{seat.row}}{{seat.seat_num}}
              {% endfor %}
            </td>
          </tr>
        </table>

        <hr>

        <div class="total">
          <span style="color:#666;">Total Paid</span>
          <span class="price">â‚¹{{transaction.amount}}</span>
        </div>

      </div>
    </div>

  </div>
</div>

</body>
</html>